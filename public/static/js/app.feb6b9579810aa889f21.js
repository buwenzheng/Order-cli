webpackJsonp([1],{101:function(t,e){},102:function(t,e){},103:function(t,e){},106:function(t,e,s){function a(t){s(103)}var n=s(17)(s(77),s(110),a,"data-v-ff8d6134",null);t.exports=n.exports},107:function(t,e,s){function a(t){s(101)}var n=s(17)(s(78),s(108),a,null,null);t.exports=n.exports},108:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sign"},[s("div",{staticClass:"box"},[t._m(0),t._v(" "),s("el-input",{staticClass:"input",attrs:{placeholder:"请输入手机号"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){t.submit()}}},[t._v("登录")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:s(33)}}),t._v(" "),a("p",[t._v("高级点餐系统")])])}]}},109:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"main"},[s("router-view")],1)])},staticRenderFns:[]}},110:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"PosMain"},[s("div",{staticClass:"top"},[t._m(0),t._v(" "),s("div",{staticClass:"top-right"},[s("div",{staticClass:"user"},[t._v("你好，老铁!!"),s("span",[t._v(t._s(t.userList.user_name))])])])]),t._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%"},attrs:{span:24}},[s("el-col",{staticClass:"postOrder",attrs:{span:7,id:"orderList"}},[s("el-tabs",{staticStyle:{width:"100%"}},[t.orderStart?s("el-tab-pane",{staticStyle:{width:"100%"},attrs:{label:"点餐"}},[s("el-table",{staticClass:"control",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[s("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"shop",label:"店家"}}),t._v(" "),s("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"food",label:"套餐"}})],1),t._v(" "),s("div",{staticClass:"divBtn"},[s("el-button",{attrs:{type:"danger"},on:{click:function(e){t.delAllGoods()}}},[t._v("删除")]),t._v(" "),s("el-button",{attrs:{type:"success"},on:{click:function(e){t.checkout()}}},[t._v("确认")])],1)],1):t._e(),t._v(" "),t.orderSuccess?s("div",{staticClass:"order-bingo"},[s("p",{staticClass:"order-title"},[t._v("点餐信息：")]),t._v(" "),s("p",{staticClass:"order-message",staticStyle:{"text-align":"left","padding-left":"18px"}},[t._v(t._s(t.userFood.shop)+": "+t._s(t.userFood.menu))]),t._v(" "),s("p",{staticClass:"order-message",staticStyle:{"text-align":"left","padding-left":"18px"}},[t._v(t._s(t.userFood.foods))]),t._v(" "),s("el-button",{staticClass:"order-btn",attrs:{type:"primary"},on:{click:function(e){t.callOff()}}},[t._v("取消订单")])],1):t._e()],1)],1),t._v(" "),s("el-col",{attrs:{span:17}},[s("div",{staticClass:"often-goods"},[s("div",{staticClass:"title"},[t._v("已经有"),s("span",[t._v(t._s(t.foodOrderList.length))]),t._v("位同志点餐")]),t._v(" "),s("div",{staticClass:"often-goods-list"},[s("ul",t._l(t.foodOrderList,function(e){return s("li",[s("span",[t._v(t._s(e.user_infor.user_name))]),t._v(" "),s("span",{staticClass:"o-price"},[t._v(t._s(e.user_infor.department))]),t._v(" "),s("p",[t._v(t._s(e.restaurant_name)+" "+t._s(e.menu_infor.menu_name))])])}))])]),t._v(" "),s("div",{staticClass:"goods-type"},[s("el-tabs",t._l(t.addressList,function(e){return s("el-tab-pane",{attrs:{label:e.restaurant_name}},[s("div",[s("ul",{staticClass:"cookList"},t._l(e.menu_list,function(a,n){return s("el-button",{attrs:{type:"primary"},on:{click:function(s){t.addOrderList(e.restaurant_name,a.menu_name,a.menu_id)}}},[s("span",{staticClass:"food-name"},[t._v(t._s(a.menu_name))])])})),t._v(" "),s("div",{staticClass:"bottom"},t._l(e.menu_list,function(e,a){return s("figure",[t._v("套餐"+t._s(a+1)+"  "+t._s(e.description))])}))])])}))],1)])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-left"},[a("img",{staticClass:"logo",attrs:{src:s(33)}}),t._v(" "),a("span",[t._v("点餐系统")])])}]}},33:function(t,e){t.exports="data:image/png;base64,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"},35:function(t,e){},36:function(t,e,s){function a(t){s(102)}var n=s(17)(s(76),s(109),a,null,null);t.exports=n.exports},76:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",components:{}}},77:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(18),n=(s.n(a),s(8));e.default={name:"posmain",data:function(){return{tableData:[],oftenGoods:[],addressList:[],foodOrderList:[],userList:{},userFood:{},loading:!0,orderStart:!0,orderSuccess:!1}},created:function(){var t=this,e=this;if(localStorage.user_info){var s=JSON.parse(localStorage.user_info);e.userList=s;var a=s.user_id;this.$axios.post("/v1/food_order/detail",{user_id:a}).then(function(e){console.log(e.data),500===e.data.code?t.$notify({title:"未点餐",message:"友情提示",type:"warning"}):(t.userFood={foods:e.data.menu_infor.description,menu:e.data.menu_infor.menu_name,shop:e.data.restaurant_name},t.orderStart=!1,t.orderSuccess=!0)}).catch(function(e){console.log(e),t.$message({message:"网络错误",type:"warning"})})}else n.a.replace({path:"/sign"});this.loading=!0,e.$axios.get("/v1/food_order/list").then(function(t){console.log("订单人数",t.data),e.foodOrderList=t.data,e.loading=!1}).catch(function(t){console.log(t),e.$message({message:"网络错误",type:"warning"})}),e.$axios.get("/v1/restaurants/list/").then(function(t){e.addressList=t.data}).catch(function(t){console.log(t),e.$message({message:"网络错误",type:"warning"})})},mounted:function(){var t=document.body.clientHeight;document.getElementById("orderList").style.height=t+"px"},updated:function(){},methods:{addOrderList:function(t,e,s){var a=this,n={shop:t,food:e,menuId:s};a.tableData.push(n),a.tableData.length>1&&a.tableData.shift()},delAllGoods:function(){this.tableData=[]},checkout:function(){var t=this;if(this.tableData.length>0){var e=this.tableData[0].menuId;this.$axios.post("/v1/food_order/new",{user_id:this.userList.user_id,menu_id:e}).then(function(e){console.log(e),500===e.data.code?(t.tableData=[],t.$notify({title:e.data.msg,message:"友情提示",type:"warning"}),t.orderStart=!1,t.orderSuccess=!0):(t.tableData=[],t.$message({message:"点餐成功！",type:"success"}),t.loading=!0,t.$axios.post("/v1/food_order/detail",{user_id:t.userList.user_id}).then(function(e){t.loading=!1,500===e.data.code?t.$notify({title:"未点餐",message:"友情提示",type:"warning"}):(t.userFood={foods:e.data.menu_infor.description,menu:e.data.menu_infor.menu_name,shop:e.data.restaurant_name},t.orderStart=!1,t.orderSuccess=!0)}).catch(function(e){console.log(e),t.$message({message:"网络错误",type:"warning"})}),t.orderStart=!1,t.orderSuccess=!0)}).catch(function(e){console.log(e),t.$message({message:"网络错误",type:"warning"})})}else this.$message({message:"小哥，你得选一个呀",type:"warning"})},callOff:function(){var t=this;this.$axios.post("/v1/food_order/cancel",{user_id:this.userList.user_id}).then(function(e){console.log(e),t.$notify({title:e.data.msg,message:"友情提示",type:"success"}),t.orderStart=!0,t.orderSuccess=!1}).catch(function(e){console.log(e),t.$message({message:"网络错误",type:"warning"})})}}}},78:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(80),n=s.n(a),o=s(8);e.default={name:"sign",data:function(){return{input:""}},created:function(){localStorage.user_info&&o.a.replace({path:"posmain"})},methods:{submit:function(){var t=this;""===this.input?this.$notify({title:"不能输入空的手机号",message:"友情提示",type:"warning"}):this.$axios.post("/v1/users/infor",{mobile:this.input}).then(function(e){if(console.log(e),500===e.data.code)t.$alert("用户不存在！请联系管理员","Error!!",{confirmButtonText:"确定"}),console.log(localStorage);else{var s={user_id:e.data.user_id,user_name:e.data.user_name};s=n()(s),console.log(s),localStorage.setItem("user_info",s),o.a.push({path:"posmain"})}}).catch(function(e){console.log(e),t.$message({message:"网络错误",type:"warning"})})}}}},79:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),n=s(36),o=s.n(n),i=s(8),r=s(34),c=s.n(r),l=s(35),d=(s.n(l),s(18)),u=s.n(d);a.default.config.productionTip=!1,a.default.use(c.a),a.default.prototype.$axios=u.a,new a.default({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})},8:function(t,e,s){"use strict";var a=s(2),n=s(111),o=s(106),i=s.n(o),r=s(107),c=s.n(r);a.default.use(n.a),e.a=new n.a({routes:[{path:"/posmain",name:"posmain",component:i.a},{path:"/sign",name:"sign",component:c.a},{path:"/",redirect:{name:"sign"}}]})}},[79]);
//# sourceMappingURL=app.feb6b9579810aa889f21.js.map